# 一、压缩原理
哈夫曼算法是一种变长编码的算法，广泛用于数据进行对压缩。他效率很高，但是有点费CPU和内存

# 二、压缩方式的种类
## 1、android原生的压缩
通过Bitmap提供的方法进行压缩，在android中也只有这唯一一种压缩方式
```java
ByteArrayOutputStream baos = new ByteArrayOutputStream();

bmp.compress(Bitmap.CompressFormat.JPEG,  10, baos);
```
谈到Bitmap 他是用来做显示图像的，主要是2D图像，他的图像处理引擎是 skia（被google收到并用与网页等的图像处理）
他的源码简单过程如下：bitmap的创建的时候会调用natvieCreate，这个方法是一本地方法（层），使用Skia引擎在natvie堆中创建。自定义view也是用的Skia引擎。

## 2、哈夫曼压缩
Skia引擎是对jpeg的二次封装，Skia引擎不支持哈夫曼压缩，而jpeg是支持哈夫曼压缩的，所以我们直接使用jpeg引擎来使用。

### 1）、集成Libjpeg-tobu到app中
- 在android源码中，在external文件中直接把代码拷贝过来，简单粗暴，但是编译的时候特别慢
- 把源码打包成.so库，然后在拷贝到项目中，最好是这样

### 2）、哈夫曼压缩原理
一张图片1000个像素，每个像素2位，最终就是1000*2位，哈夫曼压缩是，如果这个1000个像素点1个是橙色、999个黑色，那么最终是999+2个，但是哈夫曼压缩要进行2次cpu运算，才知道有多少个黑色和橙色，所以对cpu和内存要求都高，但是目前手机的配置运行它毫无压力。所以哈夫曼压缩开始流行。










