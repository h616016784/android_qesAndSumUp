# 一、大图加载优化的核心思想
  1、分块加载 与 内存复用
  
# 二、如何来加载的具体步骤

 ## 1、自定义view来加载大图-内存复用过程
  在自定义view中的代码如下：
  - 首先定义方法
     ```java
     public MNBigView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {
        super(context, attrs, defStyleAttr);
        // 设置bigView的成员变量
        mRect = new Rect();
        mOptions = new BitmapFactory.Options();
        mGestureDetector = new GestureDetector(context,this);
        mScroller = new Scroller(context);
        // 添加缩放手势识别
        mScaleGestureDetector = new ScaleGestureDetector(context,new ScaleGesture());
        setOnTouchListener(this);
    }
    public void setImage(InputStream is){
        // 不传path mipmap url Bitmap
        // 获取图片的宽和高；
        mOptions.inJustDecodeBounds = true;
        BitmapFactory.decodeStream(is,null,mOptions);
        mImageWidth = mOptions.outWidth;
        mImageHeight = mOptions.outHeight;
        mOptions.inJustDecodeBounds = false;

        // 开启复用
        mOptions.inMutable = true;
        // 设置图片格式
        mOptions.inPreferredConfig = Bitmap.Config.RGB_565;
        // 图片由像素点组成；像素点由什么组成；argb 透明通道 红色 绿色 蓝色；
        // 创建区域解码器
        try {
            mDecoder = BitmapRegionDecoder.newInstance(is,false);
        } catch (IOException e) {
            e.printStackTrace();
        }
        requestLayout();
    }
      ```
    
      
    
        
        
        
        
        
 
